# 🗺️ اسکریپت پیشرفته استخراج اطلاعات گوگل مپس

<div align="center">

![Version](https://img.shields.io/badge/version-3.1-blue.svg)
![License](https://img.shields.io/badge/license-MIT-green.svg)
![Platform](https://img.shields.io/badge/platform-Tampermonkey-orange.svg)
![Language](https://img.shields.io/badge/language-JavaScript-yellow.svg)

**ابزار قدرتمند و هوشمند برای استخراج اطلاعات کسب‌وکارها از گوگل مپس**

[🚀 نصب](#-نصب) • [📖 راهنمای استفاده](#-راهنمای-استفاده) • [✨ ویژگی‌ها](#-ویژگیها) • [🛠️ تنظیمات](#️-تنظیمات)

</div>

---
z
## 📋 فهرست مطالب

- [معرفی](#-معرفی)
- [ویژگی‌ها](#-ویژگیها)
- [نصب](#-نصب)
- [راهنمای استفاده](#-راهنمای-استفاده)
- [رابط کاربری](#-رابط-کاربری)
- [تنظیمات پیشرفته](#️-تنظیمات-پیشرفته)
- [خروجی داده‌ها](#-خروجی-دادهها)
- [عیب‌یابی](#-عیبیابی)
- [مشارکت](#-مشارکت)
- [مجوز](#-مجوز)

---

## 🎯 معرفی

اسکریپت **Google Maps Advanced Click-Based Scraper** ابزاری پیشرفته و کاربرپسند برای استخراج اطلاعات کسب‌وکارها از گوگل مپس است. این ابزار با استفاده از تکنولوژی‌های مدرن وب و رابط کاربری زیبا، امکان جمع‌آوری اطلاعات دقیق و کامل از مکان‌های مختلف را فراهم می‌کند.

### 🌟 چرا این اسکریپت؟

- **🎨 رابط کاربری مدرن**: طراحی زیبا و کاربرپسند با انیمیشن‌های روان
- **🎯 دقت بالا**: استخراج اطلاعات کامل شامل نام، تلفن، آدرس، وب‌سایت و موقعیت جغرافیایی
- **⚡ عملکرد بهینه**: الگوریتم هوشمند برای جستجوی سریع و دقیق
- **📱 طراحی واکنش‌گرا**: سازگار با تمام اندازه‌های صفحه
- **🔧 قابلیت تنظیم**: امکان تنظیم پارامترهای مختلف برای نیازهای خاص

---

## ✨ ویژگی‌ها

### 🔍 قابلیت‌های جستجو
- **جستجوی کلیدواژه‌ای**: جستجو بر اساس نام کسب‌وکار، دسته‌بندی یا خدمات
- **تنظیم نقطه مرکز**: انتخاب دقیق موقعیت جغرافیایی برای جستجو
- **کنترل زوم پیشرفته**: تنظیم سطح زوم برای پوشش منطقه مورد نظر
- **جستجوی تدریجی**: اسکن کامل منطقه با تغییر زوم خودکار

### 📊 استخراج اطلاعات
- **نام کسب‌وکار**: استخراج نام کامل و دقیق
- **اطلاعات تماس**: شماره تلفن ثابت و همراه
- **آدرس کامل**: آدرس دقیق با جزئیات
- **وب‌سایت**: لینک وب‌سایت رسمی
- **دسته‌بندی**: نوع کسب‌وکار و خدمات
- **امتیاز**: رتبه‌بندی کاربران
- **موقعیت جغرافیایی**: مختصات دقیق (عرض و طول جغرافیایی)

### 🎨 رابط کاربری
- **طراحی مدرن**: استفاده از رنگ‌بندی و فونت‌های زیبا
- **انیمیشن‌های روان**: تجربه کاربری لذت‌بخش
- **قابلیت Minimize/Maximize**: مدیریت فضای صفحه
- **نمایش پیشرفت**: نمایش وضعیت عملیات به صورت لحظه‌ای
- **سیستم لاگ**: ردیابی کامل عملیات انجام شده

### 📤 خروجی داده‌ها
- **فرمت CSV**: خروجی استاندارد برای استفاده در Excel
- **پیش‌نمایش زنده**: نمایش نتایج در همان لحظه
- **آمار کامل**: تعداد نتایج یافت شده و پردازش شده

---

## 🚀 نصب

### پیش‌نیازها
1. **مرورگر**: Chrome، Firefox، Edge یا Safari
2. **افزونه Tampermonkey**: [دانلود از اینجا](https://www.tampermonkey.net/)

### مراحل نصب

1. **نصب Tampermonkey**:
   - به [tampermonkey.net](https://www.tampermonkey.net/) بروید
   - افزونه مناسب مرورگر خود را دانلود و نصب کنید

2. **اضافه کردن اسکریپت**:
   ```bash
   # کپی کردن کد اسکریپت
   git clone https://github.com/pourfallah/google-maps-scraper.git
   ```
   - فایل `advanced_click_based_scraper.js` را باز کنید
   - تمام محتوا را کپی کنید
   - در Tampermonkey روی "Create a new script" کلیک کنید
   - کد را جایگزین کنید و ذخیره کنید

3. **فعال‌سازی**:
   - اسکریپت را فعال کنید
   - به [Google Maps](https://maps.google.com) بروید
   - پنل اسکریپت در گوشه راست بالا ظاهر می‌شود

---

## 📖 راهنمای استفاده

### شروع سریع

1. **باز کردن گوگل مپس**:
   ```
   https://maps.google.com
   ```

2. **تنظیم جستجو**:
   - در فیلد "کلمه کلیدی" عبارت مورد نظر را وارد کنید (مثل: "رستوران"، "داروخانه")
   - روی نقطه مرکز مورد نظر در نقشه کلیک کنید
   - یا مختصات را به صورت دستی وارد کنید

3. **تنظیم زوم**:
   - زوم شروع: 19 (حداکثر جزئیات)
   - زوم پایان: 14 (پوشش وسیع‌تر)

4. **شروع استخراج**:
   - روی دکمه "🚀 شروع اسکرپینگ" کلیک کنید
   - منتظر تکمیل عملیات بمانید

### مثال عملی

```javascript
// تنظیمات نمونه برای یافتن رستوران‌های تهران
کلمه کلیدی: "رستوران"
مختصات مرکز: 35.6892, 51.3890 (میدان آزادی)
زوم شروع: 19
زوم پایان: 16
```

---

## 🎨 رابط کاربری

### اجزای اصلی پنل

#### 🎛️ کنترل‌های اصلی
- **فیلد جستجو**: وارد کردن کلمه کلیدی
- **تنظیم مرکز**: انتخاب نقطه مرکز جستجو
- **کنترل زوم**: تنظیم محدوده زوم
- **دکمه‌های عملیاتی**: شروع، توقف، پاک کردن

#### 📊 نمایش وضعیت
- **وضعیت سیستم**: نمایش وضعیت فعلی عملیات
- **تعداد نتایج**: آمار نتایج یافت شده
- **نوار پیشرفت**: درصد تکمیل عملیات

#### 📝 سیستم لاگ
- **لاگ عملیات**: ردیابی تمام مراحل
- **پیام‌های رنگی**: تشخیص نوع پیام (موفقیت، خطا، هشدار)
- **قابلیت پنهان/نمایش**: مدیریت فضای نمایش

### 🎨 ویژگی‌های بصری
- **رنگ‌بندی مدرن**: استفاده از پالت رنگ‌های زیبا
- **انیمیشن‌های روان**: تجربه کاربری بهتر
- **آیکون‌های یونیکد**: نمایش زیبا بدون نیاز به فایل اضافی
- **طراحی واکنش‌گرا**: سازگاری با موبایل و تبلت

---

## 🛠️ تنظیمات پیشرفته

### پارامترهای قابل تنظیم

```javascript
const CFG = {
    startZoomDefault: 19,    // زوم شروع (حداکثر جزئیات)
    endZoomDefault: 14,      // زوم پایان (پوشش وسیع)
    maxPerZoom: 100,         // حداکثر نتیجه در هر زوم
    scrollDelay: 1500,       // تاخیر اسکرول (میلی‌ثانیه)
    clickDelay: 800,         // تاخیر کلیک (میلی‌ثانیه)
    detailsDelay: 2000,      // تاخیر بارگذاری جزئیات
    minDelayMs: 450,         // حداقل تاخیر تصادفی
    maxDelayMs: 1100         // حداکثر تاخیر تصادفی
};
```

### بهینه‌سازی عملکرد

- **تاخیر مناسب**: تنظیم تاخیر برای جلوگیری از مسدود شدن
- **مدیریت حافظه**: پاک‌سازی خودکار داده‌های اضافی
- **کنترل خطا**: مدیریت هوشمند خطاها و تلاش مجدد

---

## 📤 خروجی داده‌ها

### فرمت CSV

خروجی به صورت فایل CSV با ستون‌های زیر:

| ستون | توضیح | نمونه |
|-------|-------|-------|
| `name` | نام کسب‌وکار | "رستوران سنتی کوثر" |
| `phone` | تلفن ثابت | "021-88776655" |
| `mobile` | تلفن همراه | "09123456789" |
| `address` | آدرس کامل | "تهران، خیابان ولیعصر، پلاک 123" |
| `website` | وب‌سایت | "https://example.com" |
| `category` | دسته‌بندی | "رستوران" |
| `rating` | امتیاز | "4.5" |
| `lat` | عرض جغرافیایی | "35.6892" |
| `lng` | طول جغرافیایی | "51.3890" |

### نمونه خروجی

```csv
name,phone,mobile,address,website,category,rating,lat,lng
"رستوران سنتی کوثر","021-88776655","09123456789","تهران، خیابان ولیعصر","https://kosar-restaurant.com","رستوران","4.5","35.6892","51.3890"
"داروخانه شبانه‌روزی","021-77665544","","تهران، میدان تجریش","","داروخانه","4.2","35.8042","51.4350"
```

---

## 🔧 عیب‌یابی

### مشکلات رایج و راه‌حل‌ها

#### ❌ اسکریپت اجرا نمی‌شود
- **علت**: Tampermonkey غیرفعال است
- **راه‌حل**: افزونه را فعال کنید و صفحه را رفرش کنید

#### ❌ پنل نمایش داده نمی‌شود
- **علت**: تداخل با سایر اسکریپت‌ها
- **راه‌حل**: سایر اسکریپت‌ها را موقتاً غیرفعال کنید

#### ❌ نتایج کم یا ناقص
- **علت**: تنظیمات زوم نامناسب
- **راه‌حل**: زوم شروع را افزایش دهید (19-20)

#### ❌ خطای "Too Many Requests"
- **علت**: درخواست‌های زیاد به سرور گوگل
- **راه‌حل**: تاخیر بین درخواست‌ها را افزایش دهید

### 📊 بررسی لاگ‌ها

برای عیب‌یابی دقیق‌تر:
1. کنسول مرورگر را باز کنید (F12)
2. تب Console را انتخاب کنید
3. پیام‌های خطا را بررسی کنید
4. لاگ‌های اسکریپت را مطالعه کنید

---

## 🤝 مشارکت

ما از مشارکت شما استقبال می‌کنیم! برای مشارکت:

### مراحل مشارکت

1. **Fork کردن پروژه**
   ```bash
   git fork https://github.com/pourfallah/google-maps-scraper.git
   ```

2. **ایجاد شاخه جدید**
   ```bash
   git checkout -b feature/new-feature
   ```

3. **اعمال تغییرات**
   ```bash
   git commit -m "Add new feature"
   ```

4. **ارسال Pull Request**
   ```bash
   git push origin feature/new-feature
   ```

### راهنمای توسعه

- **کد استاندارد**: از استانداردهای JavaScript ES6+ استفاده کنید
- **مستندسازی**: کامنت‌های فارسی برای توابع مهم
- **تست**: تست کامل قبل از ارسال
- **سازگاری**: حفظ سازگاری با نسخه‌های قبلی

---

## 📄 مجوز

این پروژه تحت مجوز MIT منتشر شده است. برای اطلاعات بیشتر فایل [LICENSE](LICENSE) را مطالعه کنید.

```
MIT License

Copyright (c) 2024 Google Maps Scraper

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction...
```

---

<div align="center">

**ساخته شده با ❤️ برای جامعه توسعه‌دهندگان ایرانی**

[⭐ ستاره بدهید](https://github.com/pourfallah/google-maps-scraper) • [🐛 گزارش باگ](https://github.com/pourfallah/google-maps-scraper/issues) • [💡 پیشنهاد ویژگی](https://github.com/pourfallah/google-maps-scraper/issues)

</div>
